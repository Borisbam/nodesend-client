{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{0:function(e,t,r){r(\"GcxT\"),e.exports=r(\"nOHt\")},\"1TCz\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"rePB\"),a=r(\"nKUr\"),o=r(\"q1tI\"),c=r(\"o0o1\"),u=r.n(c),s=r(\"HaE+\"),i=r(\"8JUI\"),p=r(\"fs2M\");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){switch(t.type){default:return e;case p.k:return localStorage.setItem(\"token\",t.payload),localStorage.setItem(\"autenticado\",!0),d(d({},e),{},{token:t.payload,mensaje:\"Usuario creado correctamente\",autenticado:!0});case p.j:return d(d({},e),{},{mensaje:t.payload});case p.h:return localStorage.setItem(\"token\",t.payload),localStorage.setItem(\"autenticado\",!0),d(d({},e),{},{token:t.payload,autenticado:!0});case p.g:return d(d({},e),{},{mensaje:t.payload});case p.e:return d(d({},e),{},{mensaje:null});case p.o:return d(d({},e),{},{usuario:t.payload,autenticado:!!t.payload||null});case p.c:return localStorage.removeItem(\"token\"),localStorage.removeItem(\"autenticado\"),d(d({},e),{},{autenticado:!1,usuario:null,token:null})}},O=r(\"DJ7r\"),b=function(e){e?O.a.defaults.headers.common.Authorization=\"Bearer \".concat(e):delete O.a.defaults.headers.common.Authorization},y=r(\"20a2\"),m=r.n(y),g=function(e){var t=e.children,r={token:localStorage.getItem(\"token\"),autenticado:null,usuario:null,mensaje:null},n=Object(o.useReducer)(f,r),c=n[0],l=n[1],d=function(){var e=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,O.a.post(\"/api/users\",t);case 4:r=e.sent,l({type:p.k,payload:r.data.token}),console.log(r.data.token),m.a.push(\"/\"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l({type:p.j,payload:e.t0.response.data.msg});case 13:case\"end\":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,O.a.post(\"api/auth\",t);case 4:r=e.sent,l({type:p.h,payload:r.data.token}),m.a.push(\"/\"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:p.g,payload:e.t0.response.data.msg});case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),g=Object(o.useRef)(!1);Object(o.useEffect)((function(){if(g.current){var e=setTimeout((function(){return l({type:p.e})}),3e3);return function(){clearTimeout(e)}}g.current=!0}),[c.mensaje]);var j=function(){var e=Object(s.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem(\"token\"))&&b(t),e.prev=2,e.next=5,O.a.get(\"/api/auth\");case 5:(r=e.sent).data.user&&l({type:p.o,payload:r.data.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),l({type:p.g,payload:e.t0.response.data.msg});case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(i.a.Provider,{value:{token:c.token,autenticado:c.autenticado,usuario:c.usuario,mensaje:c.mensaje,registrarUsuario:d,iniciarSesion:y,usuarioAutenticado:j,cerrarSesion:function(){l({type:p.c})}},children:t})},j=r(\"9Iqy\");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e,t){switch(t.type){case p.i:return h(h({},e),{},{mensaje_archivo:t.payload});case p.e:return h(h({},e),{},{mensaje_archivo:null});case p.l:return h(h({},e),{},{cargando:!0});case p.n:return h(h({},e),{},{nombre:t.payload.nombre,nombre_original:t.payload.nombre_original,image:t.payload.image,cargando:!1});case p.p:return h(h({},e),{},{imagen:t.payload});case p.m:return h(h({},e),{},{mensaje_archivo:t.payload,cargando:!1});case p.d:return h(h({},e),{},{url:t.payload});case p.b:return h(h({},e),{},{password:t.payload});case p.a:return h(h({},e),{},{descargas:t.payload});case p.f:return h(h({},e),{},{mensaje_archivo:\"\",nombre:\"\",nombre_original:\"\",cargando:!1,descargas:1,password:\"\",autor:null,url:\"\"});default:return e}},_=function(e){var t=e.children,r=Object(o.useReducer)(w,{mensaje_archivo:\"\",nombre:\"\",nombre_original:\"\",cargando:!1,descargas:1,password:\"\",autor:null,url:\"\",image:null}),n=r[0],c=r[1],i=function(){var e=Object(s.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n.nombre,original_name:n.nombre_original,downloads:n.descargas,password:n.password,author:n.autor,image:n.image},e.prev=1,e.next=4,O.a.post(\"/api/links\",t);case 4:r=e.sent,c({type:p.d,payload:r.data.msg}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(j.a.Provider,{value:{mensaje_archivo:n.mensaje_archivo,nombre:n.nombre,nombre_original:n.nombre_original,cargando:n.cargando,descargas:n.descargas,password:n.password,autor:n.autor,url:n.url,image:n.image,mostrarAlerta:function(e){c({type:p.i,payload:e}),setTimeout((function(){c({type:p.e})}),3e3)},subirArchivo:function(e,t){c({type:p.l}),setTimeout(Object(s.a)(u.a.mark((function r(){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.a.post(\"/api/files\",e);case 3:n=r.sent,c({type:p.n,payload:{nombre:n.data.archivo,nombre_original:t,image:n.data.image}}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),c({type:p.m,payload:r.t0.response.data.msg});case 10:case\"end\":return r.stop()}}),r,null,[[0,7]])}))),2e3)},crearEnlace:i,limpiarState:function(){c({type:p.f})},agregarPassword:function(e){c({type:p.b,payload:e})},agregarDescargas:function(e){c({type:p.a,payload:e})},agregarImagen:function(e){c({type:p.p,payload:URL.createObjectURL(e)})}},children:t})};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.Component,r=e.pageProps;return Object(a.jsx)(g,{children:Object(a.jsx)(_,{children:Object(a.jsx)(t,E({},r))})})}},\"20a2\":function(e,t,r){e.exports=r(\"nOHt\")},\"8JUI\":function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a=Object(n.createContext)();t.a=a},\"9Iqy\":function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a=Object(n.createContext)();t.a=a},GcxT:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return r(\"1TCz\")}])},fs2M:function(e,t,r){\"use strict\";r.d(t,\"k\",(function(){return n})),r.d(t,\"j\",(function(){return a})),r.d(t,\"h\",(function(){return o})),r.d(t,\"g\",(function(){return c})),r.d(t,\"o\",(function(){return u})),r.d(t,\"c\",(function(){return s})),r.d(t,\"i\",(function(){return i})),r.d(t,\"e\",(function(){return p})),r.d(t,\"l\",(function(){return l})),r.d(t,\"n\",(function(){return d})),r.d(t,\"m\",(function(){return f})),r.d(t,\"d\",(function(){return O})),r.d(t,\"f\",(function(){return b})),r.d(t,\"b\",(function(){return y})),r.d(t,\"a\",(function(){return m})),r.d(t,\"p\",(function(){return g}));var n=\"REGISTRO_EXITOSO\",a=\"REGISTRO_ERROR\",o=\"LOGIN_EXITOSO\",c=\"LOGIN_ERROR\",u=\"USUARIO_AUTENTICADO\",s=\"CERRAR_SESION\",i=\"MOSTRAR_ALERTA\",p=\"REGISTRO_ERROR\",l=\"SUBIENDO_ARCHIVO\",d=\"SUBIR_ARCHIVO_EXITO\",f=\"SUBIR_ARCHIVO_ERROR\",O=\"CREAR_ENLACE_EXITO\",b=\"LIMPIAR_STATE\",y=\"AGREGAR_PASSWORD\",m=\"AGREGAR_DESCARGAS\",g=\"VISTA_IMAGEN\"},rePB:function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,\"a\",(function(){return n}))}},[[0,0,2,1,4]]]);","map":{"version":3,"sources":["static/chunks/pages/_app-1d2b1ef63298443bb9e2.js"],"names":["_N_E","window","push","0","module","exports","__webpack_require__","1TCz","__webpack_exports__","r","defineProperty","jsx_runtime","react","regenerator","regenerator_default","n","asyncToGenerator","authContext","types","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","auth_authReducer","state","action","type","localStorage","setItem","payload","token","mensaje","autenticado","usuario","removeItem","axios","config_tokenAuth","defaults","headers","common","concat","router","router_default","authState","_ref","children","initialState","getItem","_useReducer","dispatch","registrarUsuario","_ref2","a","mark","_callee","datos","respuesta","wrap","_context","prev","next","console","log","post","sent","data","t0","response","msg","stop","_x","this","iniciarSesion","_ref3","_callee2","_context2","_x2","isMounted","current","timerId","setTimeout","clearTimeout","usuarioAutenticado","_ref4","_callee3","_context3","get","user","Provider","value","cerrarSesion","appContext","appReducer_ownKeys","appReducer_objectSpread","app_appReducer","mensaje_archivo","cargando","nombre","nombre_original","image","imagen","url","password","descargas","autor","appState","crearEnlace","resultado","name","original_name","downloads","author","mostrarAlerta","subirArchivo","formData","nombreArchivo","archivo","limpiarState","agregarPassword","agregarDescargas","agregarImagen","URL","createObjectURL","_app_ownKeys","_app_objectSpread","Component","pageProps","20a2","8JUI","react__WEBPACK_IMPORTED_MODULE_0__","9Iqy","GcxT","__NEXT_P","fs2M","d","REGISTRO_EXITOSO","REGISTRO_ERROR","LOGIN_EXITOSO","LOGIN_ERROR","USUARIO_AUTENTICADO","CERRAR_SESION","MOSTRAR_ALERTA","LIMPIAR_ALERTA","SUBIENDO_ARCHIVO","SUBIR_ARCHIVO_EXITO","SUBIR_ARCHIVO_ERROR","CREAR_ENLACE_EXITO","LIMPIAR_STATE","AGREGAR_PASSWORD","AGREGAR_DESCARGAS","VISTA_IMAGEN","rePB","_defineProperty","obj","configurable","writable"],"mappings":"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"},"name":"static/chunks/pages/_app-1d2b1ef63298443bb9e2.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[7],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"GcxT\");\nmodule.exports = __webpack_require__(\"nOHt\");\n\n\n/***/ }),\n\n/***/ \"1TCz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"HaE+\");\n\n// EXTERNAL MODULE: ./context/auth/authContext.js\nvar authContext = __webpack_require__(\"8JUI\");\n\n// EXTERNAL MODULE: ./types/index.js\nvar types = __webpack_require__(\"fs2M\");\n\n// CONCATENATED MODULE: ./context/auth/authReducer.js\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar authReducer_authReducer = function authReducer(state, action) {\n  switch (action.type) {\n    default:\n      return state;\n\n    case types[\"k\" /* REGISTRO_EXITOSO */]:\n      localStorage.setItem('token', action.payload);\n      localStorage.setItem('autenticado', true);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: action.payload,\n        mensaje: 'Usuario creado correctamente',\n        autenticado: true\n      });\n\n    case types[\"j\" /* REGISTRO_ERROR */]:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: action.payload\n      });\n\n    case types[\"h\" /* LOGIN_EXITOSO */]:\n      localStorage.setItem('token', action.payload);\n      localStorage.setItem('autenticado', true);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: action.payload,\n        autenticado: true\n      });\n\n    case types[\"g\" /* LOGIN_ERROR */]:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: action.payload\n      });\n\n    case types[\"e\" /* LIMPIAR_ALERTA */]:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: null\n      });\n\n    case types[\"o\" /* USUARIO_AUTENTICADO */]:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        usuario: action.payload,\n        autenticado: action.payload ? true : null\n      });\n\n    case types[\"c\" /* CERRAR_SESION */]:\n      localStorage.removeItem('token');\n      localStorage.removeItem('autenticado');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        autenticado: false,\n        usuario: null,\n        token: null\n      });\n  }\n};\n\n/* harmony default export */ var auth_authReducer = (authReducer_authReducer);\n// EXTERNAL MODULE: ./config/axios.js\nvar axios = __webpack_require__(\"DJ7r\");\n\n// CONCATENATED MODULE: ./config/tokenAuth.js\n\n\nvar tokenAuth_tokenAuth = function tokenAuth(token) {\n  if (token) {\n    axios[\"a\" /* default */].defaults.headers.common['Authorization'] = \"Bearer \".concat(token);\n  } else {\n    delete axios[\"a\" /* default */].defaults.headers.common['Authorization'];\n  }\n};\n\n/* harmony default export */ var config_tokenAuth = (tokenAuth_tokenAuth);\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar router = __webpack_require__(\"20a2\");\nvar router_default = /*#__PURE__*/__webpack_require__.n(router);\n\n// CONCATENATED MODULE: ./context/auth/authState.js\n\n\n\n\n\n\n\n\n\n\n\nvar authState_AuthState = function AuthState(_ref) {\n  var children = _ref.children;\n  //Definir state inicial\n  var initialState = {\n    token: true ? localStorage.getItem('token') : undefined,\n    autenticado: null,\n    usuario: null,\n    mensaje: null\n  }; //Definir el reducer\n\n  var _useReducer = Object(react[\"useReducer\"])(auth_authReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1]; // Registrar usuario\n\n\n  var registrarUsuario = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(datos) {\n      var respuesta;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(datos);\n              _context.prev = 1;\n              _context.next = 4;\n              return axios[\"a\" /* default */].post('/api/users', datos);\n\n            case 4:\n              respuesta = _context.sent;\n              dispatch({\n                type: types[\"k\" /* REGISTRO_EXITOSO */],\n                payload: respuesta.data.token\n              });\n              console.log(respuesta.data.token);\n              router_default.a.push('/');\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: types[\"j\" /* REGISTRO_ERROR */],\n                payload: _context.t0.response.data.msg\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function registrarUsuario(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); //Iniciar Sesión\n\n\n  var iniciarSesion = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(datos) {\n      var respuesta;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(datos);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios[\"a\" /* default */].post('api/auth', datos);\n\n            case 4:\n              respuesta = _context2.sent;\n              dispatch({\n                type: types[\"h\" /* LOGIN_EXITOSO */],\n                payload: respuesta.data.token\n              });\n              router_default.a.push('/');\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatch({\n                type: types[\"g\" /* LOGIN_ERROR */],\n                payload: _context2.t0.response.data.msg\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function iniciarSesion(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // Limpiar alerta\n\n\n  var isMounted = Object(react[\"useRef\"])(false);\n  Object(react[\"useEffect\"])(function () {\n    if (isMounted.current) {\n      var close = function close() {\n        return setTimeout(function () {\n          return dispatch({\n            type: types[\"e\" /* LIMPIAR_ALERTA */]\n          });\n        }, 3000);\n      };\n\n      var timerId = close();\n      return function () {\n        clearTimeout(timerId);\n      };\n    } else {\n      isMounted.current = true;\n    }\n  }, [state.mensaje]); // Retorna el usuario autenticado en base al JWT\n\n  var usuarioAutenticado = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var token, respuesta;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              token = localStorage.getItem('token');\n\n              if (token) {\n                config_tokenAuth(token);\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios[\"a\" /* default */].get('/api/auth');\n\n            case 5:\n              respuesta = _context3.sent;\n\n              if (respuesta.data.user) {\n                dispatch({\n                  type: types[\"o\" /* USUARIO_AUTENTICADO */],\n                  payload: respuesta.data.user\n                });\n              }\n\n              _context3.next = 12;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](2);\n              dispatch({\n                type: types[\"g\" /* LOGIN_ERROR */],\n                payload: _context3.t0.response.data.msg\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 9]]);\n    }));\n\n    return function usuarioAutenticado() {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // Cerrar sesion\n\n\n  var cerrarSesion = function cerrarSesion() {\n    dispatch({\n      type: types[\"c\" /* CERRAR_SESION */]\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(authContext[\"a\" /* default */].Provider, {\n    value: {\n      token: state.token,\n      autenticado: state.autenticado,\n      usuario: state.usuario,\n      mensaje: state.mensaje,\n      registrarUsuario: registrarUsuario,\n      iniciarSesion: iniciarSesion,\n      usuarioAutenticado: usuarioAutenticado,\n      cerrarSesion: cerrarSesion\n    },\n    children: children\n  });\n};\n\n/* harmony default export */ var authState = (authState_AuthState);\n// EXTERNAL MODULE: ./context/app/appContext.js\nvar appContext = __webpack_require__(\"9Iqy\");\n\n// CONCATENATED MODULE: ./context/app/appReducer.js\n\n\nfunction appReducer_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction appReducer_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { appReducer_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { appReducer_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar appReducer_appReducer = function appReducer(state, action) {\n  switch (action.type) {\n    case types[\"i\" /* MOSTRAR_ALERTA */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        mensaje_archivo: action.payload\n      });\n\n    case types[\"e\" /* LIMPIAR_ALERTA */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        mensaje_archivo: null\n      });\n\n    case types[\"l\" /* SUBIENDO_ARCHIVO */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        cargando: true\n      });\n\n    case types[\"n\" /* SUBIR_ARCHIVO_EXITO */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        nombre: action.payload.nombre,\n        nombre_original: action.payload.nombre_original,\n        image: action.payload.image,\n        cargando: false\n      });\n\n    case types[\"p\" /* VISTA_IMAGEN */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        imagen: action.payload\n      });\n\n    case types[\"m\" /* SUBIR_ARCHIVO_ERROR */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        mensaje_archivo: action.payload,\n        cargando: false\n      });\n\n    case types[\"d\" /* CREAR_ENLACE_EXITO */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        url: action.payload\n      });\n\n    case types[\"b\" /* AGREGAR_PASSWORD */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        password: action.payload\n      });\n\n    case types[\"a\" /* AGREGAR_DESCARGAS */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        descargas: action.payload\n      });\n\n    case types[\"f\" /* LIMPIAR_STATE */]:\n      return appReducer_objectSpread(appReducer_objectSpread({}, state), {}, {\n        mensaje_archivo: '',\n        nombre: '',\n        nombre_original: '',\n        cargando: false,\n        descargas: 1,\n        password: '',\n        autor: null,\n        url: ''\n      });\n\n    default:\n      return state;\n  }\n};\n\n/* harmony default export */ var app_appReducer = (appReducer_appReducer);\n// CONCATENATED MODULE: ./context/app/appState.js\n\n\n\n\n\n\n\n\n\nvar appState_AppState = function AppState(_ref) {\n  var children = _ref.children;\n  var initialState = {\n    mensaje_archivo: '',\n    nombre: '',\n    nombre_original: '',\n    cargando: false,\n    descargas: 1,\n    password: '',\n    autor: null,\n    url: '',\n    image: null\n  }; // Crear dispatch y state\n\n  var _useReducer = Object(react[\"useReducer\"])(app_appReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1]; // Mostrar alerta\n\n\n  var mostrarAlerta = function mostrarAlerta(msg) {\n    dispatch({\n      type: types[\"i\" /* MOSTRAR_ALERTA */],\n      payload: msg\n    });\n    setTimeout(function () {\n      dispatch({\n        type: types[\"e\" /* LIMPIAR_ALERTA */]\n      });\n    }, 3000);\n  }; //Subir archivos al servidor\n\n\n  var subirArchivo = function subirArchivo(formData, nombreArchivo) {\n    dispatch({\n      type: types[\"l\" /* SUBIENDO_ARCHIVO */]\n    });\n    setTimeout( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n      var respuesta;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios[\"a\" /* default */].post('/api/files', formData);\n\n            case 3:\n              respuesta = _context.sent;\n              dispatch({\n                type: types[\"n\" /* SUBIR_ARCHIVO_EXITO */],\n                payload: {\n                  nombre: respuesta.data.archivo,\n                  nombre_original: nombreArchivo,\n                  image: respuesta.data.image\n                }\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                type: types[\"m\" /* SUBIR_ARCHIVO_ERROR */],\n                payload: _context.t0.response.data.msg\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    })), 2000);\n  };\n\n  var crearEnlace = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var data, resultado;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = {\n                name: state.nombre,\n                original_name: state.nombre_original,\n                downloads: state.descargas,\n                password: state.password,\n                author: state.autor,\n                image: state.image\n              };\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios[\"a\" /* default */].post('/api/links', data);\n\n            case 4:\n              resultado = _context2.sent;\n              dispatch({\n                type: types[\"d\" /* CREAR_ENLACE_EXITO */],\n                payload: resultado.data.msg\n              });\n              _context2.next = 10;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n\n    return function crearEnlace() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var limpiarState = function limpiarState() {\n    dispatch({\n      type: types[\"f\" /* LIMPIAR_STATE */]\n    });\n  }; // Agregar password\n\n\n  var agregarPassword = function agregarPassword(password) {\n    dispatch({\n      type: types[\"b\" /* AGREGAR_PASSWORD */],\n      payload: password\n    });\n  }; // Agregar descargas\n\n\n  var agregarDescargas = function agregarDescargas(descargas) {\n    dispatch({\n      type: types[\"a\" /* AGREGAR_DESCARGAS */],\n      payload: descargas\n    });\n  };\n\n  var agregarImagen = function agregarImagen(imagen) {\n    dispatch({\n      type: types[\"p\" /* VISTA_IMAGEN */],\n      payload: URL.createObjectURL(imagen)\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(appContext[\"a\" /* default */].Provider, {\n    value: {\n      mensaje_archivo: state.mensaje_archivo,\n      nombre: state.nombre,\n      nombre_original: state.nombre_original,\n      cargando: state.cargando,\n      descargas: state.descargas,\n      password: state.password,\n      autor: state.autor,\n      url: state.url,\n      image: state.image,\n      mostrarAlerta: mostrarAlerta,\n      subirArchivo: subirArchivo,\n      crearEnlace: crearEnlace,\n      limpiarState: limpiarState,\n      agregarPassword: agregarPassword,\n      agregarDescargas: agregarDescargas,\n      agregarImagen: agregarImagen\n    },\n    children: children\n  });\n};\n\n/* harmony default export */ var appState = (appState_AppState);\n// CONCATENATED MODULE: ./pages/_app.js\n\n\n\nfunction _app_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _app_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { _app_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { _app_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar _app_App = function App(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(authState, {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(appState, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component, _app_objectSpread({}, pageProps))\n    })\n  });\n};\n\n/* harmony default export */ var _app = __webpack_exports__[\"default\"] = (_app_App);\n\n/***/ }),\n\n/***/ \"20a2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"nOHt\")\n\n\n/***/ }),\n\n/***/ \"8JUI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar authContext = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])();\n/* harmony default export */ __webpack_exports__[\"a\"] = (authContext);\n\n/***/ }),\n\n/***/ \"9Iqy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar appContext = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])();\n/* harmony default export */ __webpack_exports__[\"a\"] = (appContext);\n\n/***/ }),\n\n/***/ \"GcxT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/_app\",\n        function () {\n          return __webpack_require__(\"1TCz\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"fs2M\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return REGISTRO_EXITOSO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return REGISTRO_ERROR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return LOGIN_EXITOSO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return LOGIN_ERROR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return USUARIO_AUTENTICADO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return CERRAR_SESION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return MOSTRAR_ALERTA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return LIMPIAR_ALERTA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return SUBIENDO_ARCHIVO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return SUBIR_ARCHIVO_EXITO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return SUBIR_ARCHIVO_ERROR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return CREAR_ENLACE_EXITO; });\n/* unused harmony export CREAR_ENLACE_ERROR */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return LIMPIAR_STATE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return AGREGAR_PASSWORD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AGREGAR_DESCARGAS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return VISTA_IMAGEN; });\nvar REGISTRO_EXITOSO = 'REGISTRO_EXITOSO';\nvar REGISTRO_ERROR = 'REGISTRO_ERROR';\nvar LOGIN_EXITOSO = 'LOGIN_EXITOSO';\nvar LOGIN_ERROR = 'LOGIN_ERROR';\nvar USUARIO_AUTENTICADO = 'USUARIO_AUTENTICADO';\nvar CERRAR_SESION = 'CERRAR_SESION';\nvar MOSTRAR_ALERTA = 'MOSTRAR_ALERTA';\nvar LIMPIAR_ALERTA = 'REGISTRO_ERROR';\nvar SUBIENDO_ARCHIVO = 'SUBIENDO_ARCHIVO';\nvar SUBIR_ARCHIVO_EXITO = 'SUBIR_ARCHIVO_EXITO';\nvar SUBIR_ARCHIVO_ERROR = 'SUBIR_ARCHIVO_ERROR';\nvar CREAR_ENLACE_EXITO = 'CREAR_ENLACE_EXITO';\nvar CREAR_ENLACE_ERROR = 'CREAR_ENLACE_ERROR';\nvar LIMPIAR_STATE = 'LIMPIAR_STATE';\nvar AGREGAR_PASSWORD = 'AGREGAR_PASSWORD';\nvar AGREGAR_DESCARGAS = 'AGREGAR_DESCARGAS';\nvar VISTA_IMAGEN = 'VISTA_IMAGEN';\n\n/***/ }),\n\n/***/ \"rePB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _defineProperty; });\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n/***/ })\n\n},[[0,0,2,1,4]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\auth\\authReducer.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\config\\tokenAuth.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\auth\\authState.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\app\\appReducer.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\app\\appState.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\pages\\_app.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\router.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\auth\\authContext.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\context\\app\\appContext.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2F_app&absolutePagePath=private-next-pages%2F_app.js!","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\types\\index.js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\@babel\\runtime\\helpers\\esm\\defineProperty.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAwE;;AAExE,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE/X;;AAErJ,IAAI,uBAAW;AACf;AACA;AACA;;AAEA,SAAS,iCAAgB;AACzB;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,OAAO;;AAEP,SAAS,+BAAc;AACvB,2CAA2C,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,8BAAa;AACtB;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA,OAAO;;AAEP,SAAS,4BAAW;AACpB,2CAA2C,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,+BAAc;AACvB,2CAA2C,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,oCAAmB;AAC5B,2CAA2C,YAAY;AACvD;AACA;AACA,OAAO;;AAEP,SAAS,8BAAa;AACtB;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEe,4EAAW,E;;;;;AC9DQ;;AAElC,IAAI,mBAAS;AACb;AACA,IAAI,wBAAW;AACf,GAAG;AACH,WAAW,wBAAW;AACtB;AACA;;AAEe,wEAAS,E;;;;;;ACVwB;AACa;AACe;AACf;AACrB;AACA;AAC6G;AACxG;AACE;AACd;;AAEjC,IAAI,mBAAS;AACb;AACA;AACA;AACA,kDAAkD,SAAI;AACtD;AACA;AACA;AACA,IAAI;;AAEJ,oBAAoB,2BAAU,CAAC,gBAAW;AAC1C;AACA,gCAAgC;;;AAGhC;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAW;;AAEhC;AACA;AACA;AACA,sBAAsB,iCAAgB;AACtC;AACA,eAAe;AACf;AACA,cAAc,gBAAM;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,+BAAc;AACpC;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG,GAAG;;;AAGN;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAW;;AAEhC;AACA;AACA;AACA,sBAAsB,8BAAa;AACnC;AACA,eAAe;AACf,cAAc,gBAAM;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,4BAAW;AACjC;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG,GAAG;;;AAGN,kBAAkB,uBAAM;AACxB,EAAE,0BAAS;AACX;AACA;AACA;AACA;AACA,kBAAkB,+BAAc;AAChC,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,mBAAmB;;AAEtB;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,gBAAS;AACzB;;AAEA;AACA;AACA,qBAAqB,wBAAW;;AAEhC;AACA;;AAEA;AACA;AACA,wBAAwB,oCAAmB;AAC3C;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,4BAAW;AACjC;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG,GAAG;;;AAGN;AACA;AACA,YAAY,8BAAa;AACzB,KAAK;AACL;;AAEA,sBAAsB,0BAAI,CAAC,8BAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEe,iEAAS,E;;;;;AChNgD;;AAExE,SAAS,kBAAO,0BAA0B,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,SAAS,uBAAa,UAAU,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,CAAC,kBAAO,+CAA+C,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,CAAC,kBAAO,yCAAyC,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE/T;;AAErN,IAAI,qBAAU;AACd;AACA,SAAS,+BAAc;AACvB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,+BAAc;AACvB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,iCAAgB;AACzB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,oCAAmB;AAC5B,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA;AACA;AACA;AACA,OAAO;;AAEP,SAAS,6BAAY;AACrB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,oCAAmB;AAC5B,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA;AACA,OAAO;;AAEP,SAAS,mCAAkB;AAC3B,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,iCAAgB;AACzB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,kCAAiB;AAC1B,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA,OAAO;;AAEP,SAAS,8BAAa;AACtB,aAAa,uBAAa,CAAC,uBAAa,GAAG,YAAY;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEe,wEAAU,E;;AC5EuB;AACa;AACe;AAClC;AACJ;AACA;AACO;AACwK;;AAErN,IAAI,iBAAQ;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ,oBAAoB,2BAAU,CAAC,cAAU;AACzC;AACA,gCAAgC;;;AAGhC;AACA;AACA,YAAY,+BAAc;AAC1B;AACA,KAAK;AACL;AACA;AACA,cAAc,+BAAc;AAC5B,OAAO;AACP,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA,YAAY,iCAAgB;AAC5B,KAAK;AACL,6BAA6B,2CAAiB,eAAe,qBAAmB;AAChF;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAW;;AAEhC;AACA;AACA;AACA,sBAAsB,oCAAmB;AACzC;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,oCAAmB;AACzC;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAW;;AAEhC;AACA;AACA;AACA,sBAAsB,mCAAkB;AACxC;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,YAAY,8BAAa;AACzB,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA,YAAY,iCAAgB;AAC5B;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA,YAAY,kCAAiB;AAC7B;AACA,KAAK;AACL;;AAEA;AACA;AACA,YAAY,6BAAY;AACxB;AACA,KAAK;AACL;;AAEA,sBAAsB,0BAAI,CAAC,6BAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEe,8DAAQ,E;;ACtLiD;AACxB;;AAEhD,SAAS,YAAO,0BAA0B,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,SAAS,iBAAa,UAAU,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,CAAC,YAAO,+CAA+C,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,CAAC,YAAO,yCAAyC,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE1f;AACwB;AACH;AACL;;AAE1C,IAAI,QAAG;AACP;AACA;AACA,sBAAsB,0BAAI,CAAC,SAAS;AACpC,2BAA2B,0BAAI,CAAC,QAAQ;AACxC,6BAA6B,0BAAI,YAAY,iBAAa,GAAG;AAC7D,KAAK;AACL,GAAG;AACH;;AAEe,kFAAG,E;;;;;;;ACtBlB,iBAAiB,mBAAO,CAAC,MAAsB;;;;;;;;;ACA/C;AAAA;AAAsC;AACtC,+BAA+B,2DAAa;AAC7B,oEAAW,E;;;;;;;;ACF1B;AAAA;AAAsC;AACtC,8BAA8B,2DAAa;AAC5B,mEAAU,E;;;;;;;;ACDzB;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA4B;AACrD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;AChBP;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,C","file":"x","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { USUARIO_AUTENTICADO, REGISTRO_EXITOSO, REGISTRO_ERROR, LIMPIAR_ALERTA, LOGIN_EXITOSO, LOGIN_ERROR, CERRAR_SESION } from '../../types/index';\n\nvar authReducer = function authReducer(state, action) {\n  switch (action.type) {\n    default:\n      return state;\n\n    case REGISTRO_EXITOSO:\n      localStorage.setItem('token', action.payload);\n      localStorage.setItem('autenticado', true);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: action.payload,\n        mensaje: 'Usuario creado correctamente',\n        autenticado: true\n      });\n\n    case REGISTRO_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: action.payload\n      });\n\n    case LOGIN_EXITOSO:\n      localStorage.setItem('token', action.payload);\n      localStorage.setItem('autenticado', true);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        token: action.payload,\n        autenticado: true\n      });\n\n    case LOGIN_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: action.payload\n      });\n\n    case LIMPIAR_ALERTA:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje: null\n      });\n\n    case USUARIO_AUTENTICADO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        usuario: action.payload,\n        autenticado: action.payload ? true : null\n      });\n\n    case CERRAR_SESION:\n      localStorage.removeItem('token');\n      localStorage.removeItem('autenticado');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        autenticado: false,\n        usuario: null,\n        token: null\n      });\n  }\n};\n\nexport default authReducer;","import clientAxios from './axios';\n\nvar tokenAuth = function tokenAuth(token) {\n  if (token) {\n    clientAxios.defaults.headers.common['Authorization'] = \"Bearer \".concat(token);\n  } else {\n    delete clientAxios.defaults.headers.common['Authorization'];\n  }\n};\n\nexport default tokenAuth;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useReducer, useEffect, useRef } from 'react';\nimport authContext from './authContext';\nimport authReducer from './authReducer';\nimport { REGISTRO_EXITOSO, REGISTRO_ERROR, LIMPIAR_ALERTA, LOGIN_ERROR, LOGIN_EXITOSO, USUARIO_AUTENTICADO, CERRAR_SESION } from '../../types/index';\nimport clientAxios from '../../config/axios';\nimport tokenAuth from '../../config/tokenAuth';\nimport router from 'next/router';\n\nvar AuthState = function AuthState(_ref) {\n  var children = _ref.children;\n  //Definir state inicial\n  var initialState = {\n    token: true ? localStorage.getItem('token') : null,\n    autenticado: null,\n    usuario: null,\n    mensaje: null\n  }; //Definir el reducer\n\n  var _useReducer = useReducer(authReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1]; // Registrar usuario\n\n\n  var registrarUsuario = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(datos) {\n      var respuesta;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(datos);\n              _context.prev = 1;\n              _context.next = 4;\n              return clientAxios.post('/api/users', datos);\n\n            case 4:\n              respuesta = _context.sent;\n              dispatch({\n                type: REGISTRO_EXITOSO,\n                payload: respuesta.data.token\n              });\n              console.log(respuesta.data.token);\n              router.push('/');\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: REGISTRO_ERROR,\n                payload: _context.t0.response.data.msg\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function registrarUsuario(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); //Iniciar Sesión\n\n\n  var iniciarSesion = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(datos) {\n      var respuesta;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(datos);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return clientAxios.post('api/auth', datos);\n\n            case 4:\n              respuesta = _context2.sent;\n              dispatch({\n                type: LOGIN_EXITOSO,\n                payload: respuesta.data.token\n              });\n              router.push('/');\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatch({\n                type: LOGIN_ERROR,\n                payload: _context2.t0.response.data.msg\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function iniciarSesion(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // Limpiar alerta\n\n\n  var isMounted = useRef(false);\n  useEffect(function () {\n    if (isMounted.current) {\n      var close = function close() {\n        return setTimeout(function () {\n          return dispatch({\n            type: LIMPIAR_ALERTA\n          });\n        }, 3000);\n      };\n\n      var timerId = close();\n      return function () {\n        clearTimeout(timerId);\n      };\n    } else {\n      isMounted.current = true;\n    }\n  }, [state.mensaje]); // Retorna el usuario autenticado en base al JWT\n\n  var usuarioAutenticado = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var token, respuesta;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              token = localStorage.getItem('token');\n\n              if (token) {\n                tokenAuth(token);\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return clientAxios.get('/api/auth');\n\n            case 5:\n              respuesta = _context3.sent;\n\n              if (respuesta.data.user) {\n                dispatch({\n                  type: USUARIO_AUTENTICADO,\n                  payload: respuesta.data.user\n                });\n              }\n\n              _context3.next = 12;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](2);\n              dispatch({\n                type: LOGIN_ERROR,\n                payload: _context3.t0.response.data.msg\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 9]]);\n    }));\n\n    return function usuarioAutenticado() {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // Cerrar sesion\n\n\n  var cerrarSesion = function cerrarSesion() {\n    dispatch({\n      type: CERRAR_SESION\n    });\n  };\n\n  return /*#__PURE__*/_jsx(authContext.Provider, {\n    value: {\n      token: state.token,\n      autenticado: state.autenticado,\n      usuario: state.usuario,\n      mensaje: state.mensaje,\n      registrarUsuario: registrarUsuario,\n      iniciarSesion: iniciarSesion,\n      usuarioAutenticado: usuarioAutenticado,\n      cerrarSesion: cerrarSesion\n    },\n    children: children\n  });\n};\n\nexport default AuthState;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { LIMPIAR_ALERTA, MOSTRAR_ALERTA, SUBIENDO_ARCHIVO, SUBIR_ARCHIVO_ERROR, SUBIR_ARCHIVO_EXITO, CREAR_ENLACE_EXITO, LIMPIAR_STATE, AGREGAR_PASSWORD, AGREGAR_DESCARGAS, VISTA_IMAGEN } from '../../types/index';\n\nvar appReducer = function appReducer(state, action) {\n  switch (action.type) {\n    case MOSTRAR_ALERTA:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje_archivo: action.payload\n      });\n\n    case LIMPIAR_ALERTA:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje_archivo: null\n      });\n\n    case SUBIENDO_ARCHIVO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cargando: true\n      });\n\n    case SUBIR_ARCHIVO_EXITO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nombre: action.payload.nombre,\n        nombre_original: action.payload.nombre_original,\n        image: action.payload.image,\n        cargando: false\n      });\n\n    case VISTA_IMAGEN:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        imagen: action.payload\n      });\n\n    case SUBIR_ARCHIVO_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje_archivo: action.payload,\n        cargando: false\n      });\n\n    case CREAR_ENLACE_EXITO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        url: action.payload\n      });\n\n    case AGREGAR_PASSWORD:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        password: action.payload\n      });\n\n    case AGREGAR_DESCARGAS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        descargas: action.payload\n      });\n\n    case LIMPIAR_STATE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mensaje_archivo: '',\n        nombre: '',\n        nombre_original: '',\n        cargando: false,\n        descargas: 1,\n        password: '',\n        autor: null,\n        url: ''\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useReducer } from 'react';\nimport appContext from './appContext';\nimport appReducer from './appReducer';\nimport clientAxios from '../../config/axios';\nimport { MOSTRAR_ALERTA, LIMPIAR_ALERTA, SUBIENDO_ARCHIVO, SUBIR_ARCHIVO_EXITO, SUBIR_ARCHIVO_ERROR, CREAR_ENLACE_EXITO, AGREGAR_PASSWORD, LIMPIAR_STATE, AGREGAR_DESCARGAS, VISTA_IMAGEN } from '../../types/index';\n\nvar AppState = function AppState(_ref) {\n  var children = _ref.children;\n  var initialState = {\n    mensaje_archivo: '',\n    nombre: '',\n    nombre_original: '',\n    cargando: false,\n    descargas: 1,\n    password: '',\n    autor: null,\n    url: '',\n    image: null\n  }; // Crear dispatch y state\n\n  var _useReducer = useReducer(appReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1]; // Mostrar alerta\n\n\n  var mostrarAlerta = function mostrarAlerta(msg) {\n    dispatch({\n      type: MOSTRAR_ALERTA,\n      payload: msg\n    });\n    setTimeout(function () {\n      dispatch({\n        type: LIMPIAR_ALERTA\n      });\n    }, 3000);\n  }; //Subir archivos al servidor\n\n\n  var subirArchivo = function subirArchivo(formData, nombreArchivo) {\n    dispatch({\n      type: SUBIENDO_ARCHIVO\n    });\n    setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var respuesta;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return clientAxios.post('/api/files', formData);\n\n            case 3:\n              respuesta = _context.sent;\n              dispatch({\n                type: SUBIR_ARCHIVO_EXITO,\n                payload: {\n                  nombre: respuesta.data.archivo,\n                  nombre_original: nombreArchivo,\n                  image: respuesta.data.image\n                }\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                type: SUBIR_ARCHIVO_ERROR,\n                payload: _context.t0.response.data.msg\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    })), 2000);\n  };\n\n  var crearEnlace = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var data, resultado;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = {\n                name: state.nombre,\n                original_name: state.nombre_original,\n                downloads: state.descargas,\n                password: state.password,\n                author: state.autor,\n                image: state.image\n              };\n              _context2.prev = 1;\n              _context2.next = 4;\n              return clientAxios.post('/api/links', data);\n\n            case 4:\n              resultado = _context2.sent;\n              dispatch({\n                type: CREAR_ENLACE_EXITO,\n                payload: resultado.data.msg\n              });\n              _context2.next = 10;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n\n    return function crearEnlace() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var limpiarState = function limpiarState() {\n    dispatch({\n      type: LIMPIAR_STATE\n    });\n  }; // Agregar password\n\n\n  var agregarPassword = function agregarPassword(password) {\n    dispatch({\n      type: AGREGAR_PASSWORD,\n      payload: password\n    });\n  }; // Agregar descargas\n\n\n  var agregarDescargas = function agregarDescargas(descargas) {\n    dispatch({\n      type: AGREGAR_DESCARGAS,\n      payload: descargas\n    });\n  };\n\n  var agregarImagen = function agregarImagen(imagen) {\n    dispatch({\n      type: VISTA_IMAGEN,\n      payload: URL.createObjectURL(imagen)\n    });\n  };\n\n  return /*#__PURE__*/_jsx(appContext.Provider, {\n    value: {\n      mensaje_archivo: state.mensaje_archivo,\n      nombre: state.nombre,\n      nombre_original: state.nombre_original,\n      cargando: state.cargando,\n      descargas: state.descargas,\n      password: state.password,\n      autor: state.autor,\n      url: state.url,\n      image: state.image,\n      mostrarAlerta: mostrarAlerta,\n      subirArchivo: subirArchivo,\n      crearEnlace: crearEnlace,\n      limpiarState: limpiarState,\n      agregarPassword: agregarPassword,\n      agregarDescargas: agregarDescargas,\n      agregarImagen: agregarImagen\n    },\n    children: children\n  });\n};\n\nexport default AppState;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport AuthState from '../context/auth/authState';\nimport AppState from '../context/app/appState';\nimport clientAxios from '../config/axios';\n\nvar App = function App(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  return /*#__PURE__*/_jsx(AuthState, {\n    children: /*#__PURE__*/_jsx(AppState, {\n      children: /*#__PURE__*/_jsx(Component, _objectSpread({}, pageProps))\n    })\n  });\n};\n\nexport default App;","module.exports = require('./dist/client/router')\n","import { createContext } from 'react';\nvar authContext = /*#__PURE__*/createContext();\nexport default authContext;","import { createContext } from 'react';\nvar appContext = /*#__PURE__*/createContext();\nexport default appContext;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/_app\",\n        function () {\n          return require(\"private-next-pages/_app.js\");\n        }\n      ]);\n    ","export var REGISTRO_EXITOSO = 'REGISTRO_EXITOSO';\nexport var REGISTRO_ERROR = 'REGISTRO_ERROR';\nexport var LOGIN_EXITOSO = 'LOGIN_EXITOSO';\nexport var LOGIN_ERROR = 'LOGIN_ERROR';\nexport var USUARIO_AUTENTICADO = 'USUARIO_AUTENTICADO';\nexport var CERRAR_SESION = 'CERRAR_SESION';\nexport var MOSTRAR_ALERTA = 'MOSTRAR_ALERTA';\nexport var LIMPIAR_ALERTA = 'REGISTRO_ERROR';\nexport var SUBIENDO_ARCHIVO = 'SUBIENDO_ARCHIVO';\nexport var SUBIR_ARCHIVO_EXITO = 'SUBIR_ARCHIVO_EXITO';\nexport var SUBIR_ARCHIVO_ERROR = 'SUBIR_ARCHIVO_ERROR';\nexport var CREAR_ENLACE_EXITO = 'CREAR_ENLACE_EXITO';\nexport var CREAR_ENLACE_ERROR = 'CREAR_ENLACE_ERROR';\nexport var LIMPIAR_STATE = 'LIMPIAR_STATE';\nexport var AGREGAR_PASSWORD = 'AGREGAR_PASSWORD';\nexport var AGREGAR_DESCARGAS = 'AGREGAR_DESCARGAS';\nexport var VISTA_IMAGEN = 'VISTA_IMAGEN';","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"]}}