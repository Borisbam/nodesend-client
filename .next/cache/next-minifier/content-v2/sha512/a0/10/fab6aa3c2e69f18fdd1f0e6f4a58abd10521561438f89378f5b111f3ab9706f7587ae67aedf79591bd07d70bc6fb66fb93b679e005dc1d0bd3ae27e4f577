{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{\"0t3Y\":function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return b})),a.d(t,\"getServerSidePaths\",(function(){return m}));var n=a(\"nKUr\"),r=a(\"o0o1\"),s=a.n(r),c=a(\"HaE+\"),o=a(\"q1tI\"),i=a(\"5Yp1\"),l=a(\"DJ7r\"),u=a(\"9Iqy\"),d=a(\"8JUI\"),p=a(\"xHM2\"),b=!0;function m(){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(\"/api/links/\");case 2:return t=e.sent,e.abrupt(\"return\",{paths:t.data.links.map((function(e){return{params:{link:e.url}}})),fallback:!1});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.link,a=Object(o.useContext)(u.a),r=a.mensaje_archivo,b=a.mostrarAlerta,m=Object(o.useContext)(d.a),f=m.token,j=m.usuarioAutenticado,x=Object(o.useState)(t.password),h=x[0],w=x[1],g=Object(o.useState)(\"\"),O=g[0],v=g[1],k=Object(o.useState)(t.file),_=k[0],N=k[1],y=Object(o.useState)({original_name:\"\",image:\"\"}),S=(y[0],y[1],function(){var e=Object(c.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={password:O},e.prev=2,e.next=5,l.a.post(\"/api/links/\".concat(t.link),n);case 5:r=e.sent,console.log(r),w(r.data.password),N(r.data.file),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response.data.msg),b(e.t0.response.data.msg);case 15:case\"end\":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(o.useEffect)((function(){f&&j()}),[f]),Object(n.jsx)(i.a,{children:h?Object(n.jsxs)(n.Fragment,{children:[r&&Object(n.jsx)(p.a,{}),Object(n.jsx)(\"div\",{className:\"flex justify-center mt-5\",children:Object(n.jsx)(\"div\",{className:\"w-full max-w-lg\",children:Object(n.jsx)(\"form\",{className:\"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",onSubmit:function(e){return S(e)},children:Object(n.jsxs)(\"div\",{className:\"mb-4\",children:[Object(n.jsx)(\"label\",{className:\"block text-black text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Ingresa la contrase\\xf1a del archivo\"}),Object(n.jsx)(\"input\",{type:\"password\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"password\",value:O,onChange:function(e){return v(e.target.value)},placeholder:\"\\u25cf\\u25cf\\u25cf\\u25cf\\u25cf\"}),Object(n.jsx)(\"input\",{type:\"submit\",className:\"bg-red-500 hover:bg-gray-900 w-full p-2 text-white uppercase font-bold\\r mt-2\",value:\"Validar Password\"})]})})})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(\"img\",{src:t.image,className:\"mx-auto\"}),Object(n.jsxs)(\"h1\",{className:\"mt-5 text-4xl text-center text-gray-700 break-all\",children:[t.original_name,\" \"]}),Object(n.jsx)(\"div\",{className:\"flex items-center justify-center mt-10\",children:Object(n.jsx)(\"a\",{href:\"\".concat(\"https://borisbam-nodesend-server.herokuapp.com/\",\"/api/files/\").concat(_),className:\"bg-red-500 text-center px-10 py-3 rounded uppercase font-bold text-white cursor-pointer\",download:!0,children:\"Descargar\"})})]})})}},ixI0:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/links/[link]\",function(){return a(\"0t3Y\")}])}},[[\"ixI0\",0,2,1,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/links/[link]-d19fc71f4844085f2fb3.js"],"names":["_N_E","window","push","0t3Y","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","getServerSidePaths","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","_components_Layout__WEBPACK_IMPORTED_MODULE_4__","_config_axios__WEBPACK_IMPORTED_MODULE_5__","_context_app_appContext__WEBPACK_IMPORTED_MODULE_6__","_context_auth_authContext__WEBPACK_IMPORTED_MODULE_7__","_components_Alerta__WEBPACK_IMPORTED_MODULE_8__","_getServerSidePaths","apply","this","arguments","Object","a","mark","_callee2","links","wrap","_context2","prev","next","get","sent","abrupt","paths","data","map","link","params","url","fallback","stop","_ref","AppContext","mensaje_archivo","mostrarAlerta","AuthContext","token","usuarioAutenticado","_useState","password","tienePassword","setTienePassword","_useState2","setPassword","_useState3","file","fileLink","setFileLink","_useState4","original_name","image","verificarPassword","_ref2","_callee","e","resultado","_context","preventDefault","post","concat","console","log","t0","response","msg","_x","children","className","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","src","href","download","ixI0","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/links/[link]-d19fc71f4844085f2fb3.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[10],{\n\n/***/ \"0t3Y\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getServerSidePaths\", function() { return getServerSidePaths; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _config_axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"DJ7r\");\n/* harmony import */ var _context_app_appContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"9Iqy\");\n/* harmony import */ var _context_auth_authContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"8JUI\");\n/* harmony import */ var _components_Alerta__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"xHM2\");\n\n\n\n\n\n\n\n\n\n\n\nvar __N_SSP = true;\nfunction getServerSidePaths() {\n  return _getServerSidePaths.apply(this, arguments);\n}\n\nfunction _getServerSidePaths() {\n  _getServerSidePaths = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {\n    var links;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _config_axios__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].get('/api/links/');\n\n          case 2:\n            links = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              paths: links.data.links.map(function (link) {\n                return {\n                  params: {\n                    link: link.url\n                  }\n                };\n              }),\n              fallback: false\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getServerSidePaths.apply(this, arguments);\n}\n\nvar Link = function Link(_ref) {\n  var link = _ref.link;\n  var AppContext = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_context_app_appContext__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]);\n  var mensaje_archivo = AppContext.mensaje_archivo,\n      mostrarAlerta = AppContext.mostrarAlerta;\n  var AuthContext = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"])(_context_auth_authContext__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"]);\n  var token = AuthContext.token,\n      usuarioAutenticado = AuthContext.usuarioAutenticado;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(link.password),\n      tienePassword = _useState[0],\n      setTienePassword = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(link.file),\n      fileLink = _useState3[0],\n      setFileLink = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({\n    original_name: '',\n    image: ''\n  }),\n      file = _useState4[0],\n      setFile = _useState4[1];\n\n  var verificarPassword = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(e) {\n      var data, resultado;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                password: password\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return _config_axios__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].post(\"/api/links/\".concat(link.link), data);\n\n            case 5:\n              resultado = _context.sent;\n              console.log(resultado);\n              setTienePassword(resultado.data.password);\n              setFileLink(resultado.data.file);\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0.response.data.msg);\n              mostrarAlerta(_context.t0.response.data.msg);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n\n    return function verificarPassword(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (token) {\n      usuarioAutenticado();\n    }\n  }, [token]);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    children: tienePassword ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n      children: [mensaje_archivo && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Alerta__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"flex justify-center mt-5\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n          className: \"w-full max-w-lg\",\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"form\", {\n            className: \"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",\n            onSubmit: function onSubmit(e) {\n              return verificarPassword(e);\n            },\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n                className: \"block text-black text-sm font-bold mb-2\",\n                htmlFor: \"password\",\n                children: \"Ingresa la contrase\\xF1a del archivo\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n                type: \"password\",\n                className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n                id: \"password\",\n                value: password,\n                onChange: function onChange(e) {\n                  return setPassword(e.target.value);\n                },\n                placeholder: \"\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n                type: \"submit\",\n                className: \"bg-red-500 hover:bg-gray-900 w-full p-2 text-white uppercase font-bold\\r mt-2\",\n                value: \"Validar Password\"\n              })]\n            })\n          })\n        })\n      })]\n    }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"img\", {\n        src: link.image,\n        className: \"mx-auto\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"h1\", {\n        className: \"mt-5 text-4xl text-center text-gray-700 break-all\",\n        children: [link.original_name, \" \"]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"flex items-center justify-center mt-10\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          href: \"\".concat(\"https://borisbam-nodesend-server.herokuapp.com/\", \"/api/files/\").concat(fileLink),\n          className: \"bg-red-500 text-center px-10 py-3 rounded uppercase font-bold text-white cursor-pointer\",\n          download: true,\n          children: \"Descargar\"\n        })\n      })]\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Link);\n\n/***/ }),\n\n/***/ \"ixI0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/links/[link]\",\n        function () {\n          return __webpack_require__(\"0t3Y\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"ixI0\",0,2,1,3,4]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\pages\\links\\[link].js","C:\\Users\\Boris\\Desktop\\React\\NodeSend\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Flinks%2F%5Blink%5D&absolutePagePath=private-next-pages%2Flinks%2F%5Blink%5D.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AACa;AACe;AACb;AAClB;AACA;AACS;AACG;AACZ;AACtC;AACA;AACP;AACA;;AAEA;AACA,wBAAwB,mGAAiB,eAAe,iEAAmB;AAC3E;AACA,WAAW,iEAAmB;AAC9B;AACA;AACA;AACA;AACA,mBAAmB,6DAAW;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA,mBAAmB,wDAAU,CAAC,uEAAU;AACxC;AACA;AACA,oBAAoB,wDAAU,CAAC,yEAAW;AAC1C;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gBAAgB,mGAAiB,eAAe,iEAAmB;AACnE;AACA,aAAa,iEAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6DAAW;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH,EAAE,uDAAS;AACX;AACA;AACA;AACA,GAAG;AACH,sBAAsB,6DAAI,CAAC,kEAAM;AACjC,2CAA2C,8DAAK,CAAC,0DAAS;AAC1D,iDAAiD,6DAAI,CAAC,kEAAM,IAAI,gBAAgB,6DAAI;AACpF;AACA,+BAA+B,6DAAI;AACnC;AACA,iCAAiC,6DAAI;AACrC;AACA;AACA;AACA,aAAa;AACb,mCAAmC,8DAAK;AACxC;AACA,sCAAsC,6DAAI;AAC1C;AACA;AACA;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK,iBAAiB,8DAAK,CAAC,0DAAS;AACrC,8BAA8B,6DAAI;AAClC;AACA;AACA,OAAO,gBAAgB,8DAAK;AAC5B;AACA;AACA,OAAO,gBAAgB,6DAAI;AAC3B;AACA,+BAA+B,6DAAI;AACnC,0BAA0B,iDAAsB;AAChD;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,mEAAI,E;;;;;;;;AClLnB;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAoC;AAC7D;AACA","file":"x","sourcesContent":["import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport Layout from '../../components/Layout';\nimport clientAxios from '../../config/axios';\nimport appContext from '../../context/app/appContext';\nimport authContext from '../../context/auth/authContext';\nimport Alerta from '../../components/Alerta';\nexport var __N_SSP = true;\nexport function getServerSidePaths() {\n  return _getServerSidePaths.apply(this, arguments);\n}\n\nfunction _getServerSidePaths() {\n  _getServerSidePaths = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var links;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return clientAxios.get('/api/links/');\n\n          case 2:\n            links = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              paths: links.data.links.map(function (link) {\n                return {\n                  params: {\n                    link: link.url\n                  }\n                };\n              }),\n              fallback: false\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getServerSidePaths.apply(this, arguments);\n}\n\nvar Link = function Link(_ref) {\n  var link = _ref.link;\n  var AppContext = useContext(appContext);\n  var mensaje_archivo = AppContext.mensaje_archivo,\n      mostrarAlerta = AppContext.mostrarAlerta;\n  var AuthContext = useContext(authContext);\n  var token = AuthContext.token,\n      usuarioAutenticado = AuthContext.usuarioAutenticado;\n\n  var _useState = useState(link.password),\n      tienePassword = _useState[0],\n      setTienePassword = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(link.file),\n      fileLink = _useState3[0],\n      setFileLink = _useState3[1];\n\n  var _useState4 = useState({\n    original_name: '',\n    image: ''\n  }),\n      file = _useState4[0],\n      setFile = _useState4[1];\n\n  var verificarPassword = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var data, resultado;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                password: password\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return clientAxios.post(\"/api/links/\".concat(link.link), data);\n\n            case 5:\n              resultado = _context.sent;\n              console.log(resultado);\n              setTienePassword(resultado.data.password);\n              setFileLink(resultado.data.file);\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0.response.data.msg);\n              mostrarAlerta(_context.t0.response.data.msg);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n\n    return function verificarPassword(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (token) {\n      usuarioAutenticado();\n    }\n  }, [token]);\n  return /*#__PURE__*/_jsx(Layout, {\n    children: tienePassword ? /*#__PURE__*/_jsxs(_Fragment, {\n      children: [mensaje_archivo && /*#__PURE__*/_jsx(Alerta, {}), /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex justify-center mt-5\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"w-full max-w-lg\",\n          children: /*#__PURE__*/_jsx(\"form\", {\n            className: \"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",\n            onSubmit: function onSubmit(e) {\n              return verificarPassword(e);\n            },\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsx(\"label\", {\n                className: \"block text-black text-sm font-bold mb-2\",\n                htmlFor: \"password\",\n                children: \"Ingresa la contrase\\xF1a del archivo\"\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n                id: \"password\",\n                value: password,\n                onChange: function onChange(e) {\n                  return setPassword(e.target.value);\n                },\n                placeholder: \"\\u25CF\\u25CF\\u25CF\\u25CF\\u25CF\"\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"submit\",\n                className: \"bg-red-500 hover:bg-gray-900 w-full p-2 text-white uppercase font-bold\\r mt-2\",\n                value: \"Validar Password\"\n              })]\n            })\n          })\n        })\n      })]\n    }) : /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"img\", {\n        src: link.image,\n        className: \"mx-auto\"\n      }), /*#__PURE__*/_jsxs(\"h1\", {\n        className: \"mt-5 text-4xl text-center text-gray-700 break-all\",\n        children: [link.original_name, \" \"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex items-center justify-center mt-10\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          href: \"\".concat(process.env.backendURL, \"/api/files/\").concat(fileLink),\n          className: \"bg-red-500 text-center px-10 py-3 rounded uppercase font-bold text-white cursor-pointer\",\n          download: true,\n          children: \"Descargar\"\n        })\n      })]\n    })\n  });\n};\n\nexport default Link;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/links/[link]\",\n        function () {\n          return require(\"private-next-pages/links/[link].js\");\n        }\n      ]);\n    "]}}